{"version":3,"sources":["script.js"],"names":["form","document","querySelector","alertElement","selects","querySelectorAll","formItems","passwordInputs","mask","regexPassword","regexEmail","validNotEmpty","value","length","validEmail","test","validPassword","confirmPassword","validateForm","inputs","_step","errors","result","_iterator","_createForOfIteratorHelper","s","n","done","element","closest","classList","remove","validateInputs","name","err","e","f","type","add","showAlert","listenPasswords","elem","addEventListener","target","previousElementSibling","innerText","repeat","listenSelect","selectList","lastChild","selectInput","firstChild","selectPlaceholder","childNodes","stopPropagation","textContent","forOfNodeList","toggleSelectClass","listenForm","preventDefault","button","innerHTML","fetch","then","response","json","data","alert","message","setTimeout","list","_step2","_iterator2","removeFormItemAnim","i","concat"],"mappings":"+oCAAA,IAAMA,KAAOC,SAASC,cAAc,SAC9BC,aAAeF,SAASC,cAAc,UACtCE,QAAUH,SAASI,iBAAiB,WACpCC,UAAYL,SAASI,iBAAiB,cACtCE,eAAiBN,SAASI,iBAAiB,0BAE3CG,KAAO,IACPC,cAAgB,wCAChBC,WACJ,uHAEF,SAASC,cAAcC,GACrB,OAAsB,EAAfA,EAAMC,OAEf,SAASC,WAAWF,GAClB,OAAOF,WAAWK,KAAKH,GAEzB,SAASI,cAAcJ,GACrB,OAAOH,cAAcM,KAAKH,GAE5B,SAASK,kBACP,OAAOV,eAAe,GAAGK,OAASL,eAAe,GAAGK,MAEtD,SAASM,aAAaC,GACpB,IAD4BC,EACxBC,EAAS,EACPC,EAAS,GAFaC,EAAAC,2BAGNL,GAHM,IAG5B,IAAAI,EAAAE,MAAAL,EAAAG,EAAAG,KAAAC,MAA8B,CAAA,IAAnBC,EAAmBR,EAAAR,MAC5BgB,EAAQC,QAAQ,cAAcC,UAAUC,OAAO,SAC9CC,eAAeJ,GAAuBN,EAAOM,EAAQK,MAAQL,EAAQhB,MAA3CS,KALD,MAAAa,GAAAX,EAAAY,EAAAD,GAAA,QAAAX,EAAAa,IAO5B,QAAgB,EAATf,IAAqBC,EAE9B,SAASU,eAAeJ,GACtB,MAAwB,SAAjBA,EAAQS,MACZT,EAAQC,QAAQ,YAChBlB,cAAciB,EAAQhB,OAIrBgB,EAAQC,QAAQ,aAAelB,cAAciB,EAAQhB,QACpDgB,EAAQC,QAAQ,cAAcC,UAAUQ,IAAI,SAC7CC,UAAU,sCACV,GACiB,UAAjBX,EAAQS,MAAqBvB,WAAWc,EAAQhB,QAI/CI,cAAcY,EAAQhB,QAA2B,aAAjBgB,EAAQS,QAMxCpB,mBAAsC,aAAjBW,EAAQS,OAM7BT,EAAQC,QAAQ,cAAcC,UAAUQ,IAAI,UAAU,IAXtDV,EAAQC,QAAQ,cAAcC,UAAUQ,IAAI,SAC7CC,UACE,uIAEF,IARCX,EAAQC,QAAQ,cAAcC,UAAUQ,IAAI,SAC7CC,UAAU,yBACV,IAVCX,EAAQC,QAAQ,cAAcC,UAAUQ,IAAI,SAC7CC,UAAU,+BACV,GAwBN,SAASC,gBAAgBC,GACvBA,EAAKC,iBAAiB,QAAS,SAACP,GAC9BA,EAAEQ,OAAOC,uBAAuBC,UAAYrC,KAAKsC,OAC/CX,EAAEQ,OAAO/B,MAAMC,UAIrB,SAASkC,aAAaN,GACpB,IAAMO,EAAaP,EAAKQ,UAClBC,EAAcT,EAAKU,WACnBC,EAAoBX,EAAKY,WAAW,GAC1CL,EAAWN,iBAAiB,QAAS,SAACP,GACpCA,EAAEmB,kBACFJ,EAAYtC,MAAQuB,EAAEQ,OAAOY,YAC7BH,EAAkBtB,UAAUC,OAAO,QACnCqB,EAAkBG,YAAcpB,EAAEQ,OAAOY,YACzCP,EAAWlB,UAAUQ,IAAI,YAE3BG,EAAKC,iBAAiB,QAAS,SAACP,GAC9BqB,cAAcpD,QAASqD,mBACvBL,EAAkBtB,UAAUQ,IAAI,QAChCU,EAAWlB,UAAUC,OAAO,YAGhC,SAAS2B,WAAW1D,GAClBA,EAAK0C,iBAAiB,SAAU,SAACP,GAC/BA,EAAEwB,iBACF,IAAMxC,EAASgB,EAAEQ,OAAOtC,iBAAiB,SACnCuD,EAASzB,EAAEQ,OAAOzC,cAAc,UACtC,GAAIgB,aAAaC,GAUf,OATAnB,EAAK6D,UACH,6NACFC,MAAM,8BACHC,KAAK,SAACC,GACL,OAAOA,EAASC,SAEjBF,KAAK,SAACG,GACLC,MAAMD,EAAKE,WAIjBR,EAAO9B,UAAUQ,IAAI,gBACrB+B,WAAW,WACTT,EAAO9B,UAAUC,OAAO,iBACvB,OAIP,SAASyB,cAAcc,EAAMlC,GAAG,IAAAmC,EAAAC,EAAAhD,2BACX8C,GADW,IAC9B,IAAAE,EAAA/C,MAAA8C,EAAAC,EAAA9C,KAAAC,MACES,EADuBmC,EAAA3D,OADK,MAAAsB,GAAAsC,EAAArC,EAAAD,GAAA,QAAAsC,EAAApC,KAKhC,SAASqC,mBAAmBnE,GAC1B+D,WAAW,WACT,IAAK,IAAIK,EAAI,EAAGA,EAAIpE,EAAUO,OAAQ6D,IACpCpE,EAAUoE,GAAG5C,UAAUC,OAAvB,QAAA4C,OAAsCD,EAAI,KAE3C,MAEL,SAASnC,UAAU6B,GACjBjE,aAAa2B,UAAUQ,IAAI,cAC3BnC,aAAaD,cAAc,KAAKqD,YAAca,EAC9CC,WAAW,WACTlE,aAAa2B,UAAUC,OAAO,eAC7B,MAEL,SAAS0B,kBAAkBhB,GACzB,IAAMO,EAAaP,EAAKQ,UAClBG,EAAoBX,EAAKY,WAAW,GAC1CL,EAAWlB,UAAUQ,IAAI,UACzBc,EAAkBtB,UAAUC,OAAO,QAGrC0C,mBAAmBnE,WACnBkD,cAAcpD,QAAS2C,cACvBS,cAAcjD,eAAgBiC,iBAC9BkB,WAAW1D","file":"../main.min.js","sourcesContent":["const form = document.querySelector('.form')\nconst alertElement = document.querySelector('.alert')\nconst selects = document.querySelectorAll('.select')\nconst formItems = document.querySelectorAll('.form-item')\nconst passwordInputs = document.querySelectorAll('input[type=\"password\"]')\n\nconst mask = '‚óè'\nconst regexPassword = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/\nconst regexEmail =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n\nfunction validNotEmpty(value) {\n  return value.length > 0\n}\nfunction validEmail(value) {\n  return regexEmail.test(value)\n}\nfunction validPassword(value) {\n  return regexPassword.test(value)\n}\nfunction confirmPassword() {\n  return passwordInputs[0].value == passwordInputs[1].value\n}\nfunction validateForm(inputs) {\n  let errors = 0\n  const result = {}\n  for (const element of inputs) {\n    element.closest('.form-item').classList.remove('error')\n    !validateInputs(element) ? errors++ : (result[element.name] = element.value)\n  }\n  return errors > 0 ? false : result\n}\nfunction validateInputs(element) {\n  return element.type === 'text' &&\n    !element.closest('.select') &&\n    !validNotEmpty(element.value)\n    ? (element.closest('.form-item').classList.add('error'),\n      showAlert('The field cannot be empty!'),\n      false)\n    : element.closest('.select') && !validNotEmpty(element.value)\n    ? (element.closest('.form-item').classList.add('error'),\n      showAlert('You have to choose a nationality!'),\n      false)\n    : element.type === 'email' && !validEmail(element.value)\n    ? (element.closest('.form-item').classList.add('error'),\n      showAlert('Enter a valid email!'),\n      false)\n    : !validPassword(element.value) && element.type === 'password'\n    ? (element.closest('.form-item').classList.add('error'),\n      showAlert(\n        'Password must contain at least eight characters, at least one number and both lower and uppercase letters and passwords must match'\n      ),\n      false)\n    : !confirmPassword() && element.type === 'password'\n    ? (element.closest('.form-item').classList.add('error'),\n      showAlert(\n        'Password must contain at least eight characters, at least one number and both lower and uppercase letters and passwords must match'\n      ),\n      false)\n    : (element.closest('.form-item').classList.add('valid'), true)\n}\n\nfunction listenPasswords(elem) {\n  elem.addEventListener('input', (e) => {\n    e.target.previousElementSibling.innerText = mask.repeat(\n      e.target.value.length\n    )\n  })\n}\nfunction listenSelect(elem) {\n  const selectList = elem.lastChild\n  const selectInput = elem.firstChild\n  const selectPlaceholder = elem.childNodes[1]\n  selectList.addEventListener('click', (e) => {\n    e.stopPropagation()\n    selectInput.value = e.target.textContent\n    selectPlaceholder.classList.remove('open')\n    selectPlaceholder.textContent = e.target.textContent\n    selectList.classList.add('hidden')\n  })\n  elem.addEventListener('click', (e) => {\n    forOfNodeList(selects, toggleSelectClass)\n    selectPlaceholder.classList.add('open')\n    selectList.classList.remove('hidden')\n  })\n}\nfunction listenForm(form) {\n  form.addEventListener('submit', (e) => {\n    e.preventDefault()\n    const inputs = e.target.querySelectorAll('input')\n    const button = e.target.querySelector('button')\n    if (validateForm(inputs)) {\n      form.innerHTML =\n        '<div> <h3 class=\"form-title\">Thank you</h3><p class=\"form-subtitle\">you registered!</p></div> <div class=\"form-bottom\"><p class=\"login-text\">Have an account?&nbsp;<a class=\"login-link\" href=\"#\">Login</a></p></div>'\n      fetch('../assets/json/server.json')\n        .then((response) => {\n          return response.json()\n        })\n        .then((data) => {\n          alert(data.message)\n        })\n      return\n    }\n    button.classList.add('button-error')\n    setTimeout(() => {\n      button.classList.remove('button-error')\n    }, 1000)\n  })\n}\n\nfunction forOfNodeList(list, f) {\n  for (const iter of list) {\n    f(iter)\n  }\n}\nfunction removeFormItemAnim(formItems) {\n  setTimeout(() => {\n    for (let i = 0; i < formItems.length; i++) {\n      formItems[i].classList.remove(`fade-${i + 1}`)\n    }\n  }, 2200)\n}\nfunction showAlert(message) {\n  alertElement.classList.add('alert-show')\n  alertElement.querySelector('p').textContent = message\n  setTimeout(() => {\n    alertElement.classList.remove('alert-show')\n  }, 4100)\n}\nfunction toggleSelectClass(elem) {\n  const selectList = elem.lastChild\n  const selectPlaceholder = elem.childNodes[1]\n  selectList.classList.add('hidden')\n  selectPlaceholder.classList.remove('open')\n}\n\nremoveFormItemAnim(formItems)\nforOfNodeList(selects, listenSelect)\nforOfNodeList(passwordInputs, listenPasswords)\nlistenForm(form)\n"]}